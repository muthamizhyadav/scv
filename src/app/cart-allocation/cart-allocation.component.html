<div class="main-container">
  <div class="page-title">
    <div class="title-name">
      <svg
        width="25"
        height="25"
        viewBox="0 0 25 25"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <path
          d="M16.6856 1.59683C16.7454 1.2527 17.0579 1 17.4236 1H19.1478C19.5135 1 19.8261 1.2527 19.8859 1.59683L20.0275 2.41016C20.0694 2.64762 20.2357 2.84571 20.4564 2.96254C20.5056 2.98794 20.5542 3.01524 20.6027 3.04317C20.8182 3.16762 21.0815 3.20635 21.3175 3.1219L22.1267 2.83238C22.2926 2.77283 22.4752 2.77142 22.642 2.82839C22.8088 2.88536 22.949 2.99702 23.0377 3.14349L23.8995 4.57016C23.9879 4.71664 24.0191 4.88834 23.9875 5.05471C23.9558 5.22108 23.8634 5.37133 23.7266 5.47873L23.0597 6.00381C22.8648 6.15619 22.7684 6.39302 22.7731 6.63365C22.7741 6.68761 22.7741 6.74159 22.7731 6.79556C22.7684 7.03556 22.8648 7.27175 23.059 7.42413L23.7273 7.94984C24.0092 8.17206 24.0823 8.55556 23.9001 8.85778L23.037 10.2844C22.9485 10.4309 22.8084 10.5426 22.6417 10.5997C22.4751 10.6567 22.2926 10.6555 22.1267 10.5962L21.3175 10.3067C21.0815 10.2222 20.8188 10.261 20.602 10.3854C20.5538 10.4134 20.5051 10.4405 20.4558 10.4667C20.2357 10.5829 20.0694 10.781 20.0275 11.0184L19.8859 11.8311C19.8261 12.1759 19.5135 12.4286 19.1478 12.4286H17.423C17.0573 12.4286 16.7447 12.1759 16.6849 11.8317L16.5433 11.0184C16.502 10.781 16.3358 10.5829 16.115 10.466C16.0657 10.4401 16.017 10.4132 15.9688 10.3854C15.7527 10.261 15.49 10.2222 15.2533 10.3067L14.4441 10.5962C14.2783 10.6556 14.0959 10.6569 13.9292 10.5999C13.7625 10.543 13.6224 10.4314 13.5338 10.2851L12.6713 8.85841C12.5829 8.71193 12.5517 8.54023 12.5833 8.37386C12.615 8.20749 12.7074 8.05724 12.8442 7.94984L13.5118 7.42476C13.706 7.27238 13.8024 7.03556 13.7977 6.79492C13.7967 6.74096 13.7967 6.68698 13.7977 6.63302C13.8024 6.39302 13.706 6.15683 13.5118 6.00444L12.8442 5.47873C12.7076 5.37136 12.6153 5.22123 12.5836 5.055C12.552 4.88877 12.583 4.71721 12.6713 4.57079L13.5338 3.14413C13.6223 2.99755 13.7625 2.88575 13.9293 2.82866C14.0962 2.77156 14.2788 2.77288 14.4447 2.83238L15.2533 3.1219C15.49 3.20635 15.7527 3.16762 15.9688 3.04317C16.0166 3.01524 16.0658 2.98794 16.115 2.9619C16.3358 2.84571 16.502 2.64762 16.5433 2.41016L16.6856 1.59683Z"
          stroke="#004C6C"
          stroke-width="1.5"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <path
          d="M20.1904 6.71424C20.1904 7.21941 19.9897 7.7039 19.6325 8.06111C19.2753 8.41832 18.7908 8.619 18.2856 8.619C17.7804 8.619 17.296 8.41832 16.9388 8.06111C16.5815 7.7039 16.3809 7.21941 16.3809 6.71424C16.3809 6.20907 16.5815 5.72458 16.9388 5.36737C17.296 5.01016 17.7804 4.80948 18.2856 4.80948C18.7908 4.80948 19.2753 5.01016 19.6325 5.36737C19.9897 5.72458 20.1904 6.20907 20.1904 6.71424Z"
          stroke="#004C6C"
          stroke-width="2"
          stroke-linecap="round"
          stroke-linejoin="round"
        />
        <mask id="path-3-inside-1_14_2377" fill="white">
          <rect y="1" width="11.4286" height="11.4286" rx="1" />
        </mask>
        <rect
          y="1"
          width="11.4286"
          height="11.4286"
          rx="1"
          stroke="#004C6C"
          stroke-width="4"
          mask="url(#path-3-inside-1_14_2377)"
        />
        <mask id="path-4-inside-2_14_2377" fill="white">
          <rect y="13.5714" width="11.4286" height="11.4286" rx="1" />
        </mask>
        <rect
          y="13.5714"
          width="11.4286"
          height="11.4286"
          rx="1"
          stroke="#004C6C"
          stroke-width="4"
          mask="url(#path-4-inside-2_14_2377)"
        />
        <mask id="path-5-inside-3_14_2377" fill="white">
          <rect
            x="12.5713"
            y="13.5714"
            width="11.4286"
            height="11.4286"
            rx="1"
          />
        </mask>
        <rect
          x="12.5713"
          y="13.5714"
          width="11.4286"
          height="11.4286"
          rx="1"
          stroke="#004C6C"
          stroke-width="4"
          mask="url(#path-5-inside-3_14_2377)"
        />
      </svg>

      <h5>Cart Allocation</h5>
    </div>
  </div>

  <!-- Newly added cart -->
  <div class="carts-container">
    <!-- when scv is absent/inactive -->
    <div class="carts-card">
      <h3 class="cart-name">Cart Name</h3>
      <div class="cart-image">
        <img src="../../assets/cart.jpg" />
      </div>
      <span class="vehicle-detail">
        <p>TN 05 BR 7917<sub>(Tata Ace)</sub></p>
      </span>
      <span class="cart-location">
        <svg
          width="13"
          height="16"
          viewBox="0 0 13 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.0962 11.3137L6.5 16L1.90378 11.3137C0.994747 10.3868 0.37569 9.20592 0.124893 7.92033C-0.125905 6.63474 0.00282161 5.30219 0.494793 4.0912C0.986765 2.8802 1.81989 1.84514 2.8888 1.11692C3.95772 0.388689 5.21443 0 6.5 0C7.78557 0 9.04228 0.388689 10.1112 1.11692C11.1801 1.84514 12.0132 2.8802 12.5052 4.0912C12.9972 5.30219 13.1259 6.63474 12.8751 7.92033C12.6243 9.20592 12.0053 10.3868 11.0962 11.3137ZM6.5 9.57288C7.26618 9.57288 8.00098 9.26255 8.54275 8.71016C9.08452 8.15776 9.38889 7.40856 9.38889 6.62736C9.38889 5.84616 9.08452 5.09695 8.54275 4.54456C8.00098 3.99217 7.26618 3.68184 6.5 3.68184C5.73382 3.68184 4.99902 3.99217 4.45725 4.54456C3.91548 5.09695 3.61111 5.84616 3.61111 6.62736C3.61111 7.40856 3.91548 8.15776 4.45725 8.71016C4.99902 9.26255 5.73382 9.57288 6.5 9.57288ZM6.5 8.10012C6.11691 8.10012 5.74951 7.94495 5.47862 7.66876C5.20774 7.39256 5.05556 7.01796 5.05556 6.62736C5.05556 6.23676 5.20774 5.86216 5.47862 5.58596C5.74951 5.30977 6.11691 5.1546 6.5 5.1546C6.88309 5.1546 7.25049 5.30977 7.52138 5.58596C7.79226 5.86216 7.94444 6.23676 7.94444 6.62736C7.94444 7.01796 7.79226 7.39256 7.52138 7.66876C7.25049 7.94495 6.88309 8.10012 6.5 8.10012Z"
            fill="#3C4048"
          />
        </svg>

        <p>Alwarpet</p>
      </span>
      <span class="scv-name inactived-scv">
        <svg
          width="14"
          height="16"
          viewBox="0 0 14 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.55287 10.0968V16H1.95209e-07C-0.000234225 15.0696 0.210666 14.1515 0.61654 13.3161C1.02241 12.4807 1.61249 11.75 2.34155 11.1802C3.07062 10.6104 3.91932 10.2165 4.82262 10.0287C5.72593 9.84088 6.65987 9.86417 7.55287 10.0968ZM6.0423 9.14286C3.53852 9.14286 1.51057 7.09714 1.51057 4.57143C1.51057 2.04571 3.53852 0 6.0423 0C8.54607 0 10.574 2.04571 10.574 4.57143C10.574 7.09714 8.54607 9.14286 6.0423 9.14286ZM11.3293 11.875L12.9313 10.2583L14 11.3364L12.3973 12.9524L14 14.5684L12.9313 15.6465L11.3293 14.0297L9.72734 15.6465L8.65861 14.5684L10.2613 12.9524L8.65861 11.3364L9.72734 10.2583L11.3293 11.875Z"
            fill="#EA5455"
          />
        </svg>

        <p>SCV Name</p>
      </span>
    </div>
    <!-- add scv -->
    <div class="carts-card" *ngFor="let data of newAllocations; let i = index">
      <h3 class="cart-name">{{ data.cartName }}</h3>
      <div class="cart-image">
        <img
          [src]="'https://wayr.link/' + data.image"
          style="width: 100%; height: 100%; object-fit: initial"
        />
      </div>
      <span class="vehicle-detail">
        <p>
          {{ data.vehicleNumber }}<sub>({{ data.vehicleName }})</sub>
        </p>
      </span>
      <span class="cart-location">
        <svg
          width="13"
          height="16"
          viewBox="0 0 13 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.0962 11.3137L6.5 16L1.90378 11.3137C0.994747 10.3868 0.37569 9.20592 0.124893 7.92033C-0.125905 6.63474 0.00282161 5.30219 0.494793 4.0912C0.986765 2.8802 1.81989 1.84514 2.8888 1.11692C3.95772 0.388689 5.21443 0 6.5 0C7.78557 0 9.04228 0.388689 10.1112 1.11692C11.1801 1.84514 12.0132 2.8802 12.5052 4.0912C12.9972 5.30219 13.1259 6.63474 12.8751 7.92033C12.6243 9.20592 12.0053 10.3868 11.0962 11.3137ZM6.5 9.57288C7.26618 9.57288 8.00098 9.26255 8.54275 8.71016C9.08452 8.15776 9.38889 7.40856 9.38889 6.62736C9.38889 5.84616 9.08452 5.09695 8.54275 4.54456C8.00098 3.99217 7.26618 3.68184 6.5 3.68184C5.73382 3.68184 4.99902 3.99217 4.45725 4.54456C3.91548 5.09695 3.61111 5.84616 3.61111 6.62736C3.61111 7.40856 3.91548 8.15776 4.45725 8.71016C4.99902 9.26255 5.73382 9.57288 6.5 9.57288ZM6.5 8.10012C6.11691 8.10012 5.74951 7.94495 5.47862 7.66876C5.20774 7.39256 5.05556 7.01796 5.05556 6.62736C5.05556 6.23676 5.20774 5.86216 5.47862 5.58596C5.74951 5.30977 6.11691 5.1546 6.5 5.1546C6.88309 5.1546 7.25049 5.30977 7.52138 5.58596C7.79226 5.86216 7.94444 6.23676 7.94444 6.62736C7.94444 7.01796 7.79226 7.39256 7.52138 7.66876C7.25049 7.94495 6.88309 8.10012 6.5 8.10012Z"
            fill="#3C4048"
          />
        </svg>

        <p>Alwarpet</p>
      </span>
      <span class="scv-name add-scv" (click)="enableAddAlocation(i)">
        <svg
          width="14"
          height="16"
          viewBox="0 0 14 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M7.36842 10.0968V16H1.90442e-07C-0.000228505 15.0696 0.205521 14.1515 0.601483 13.3161C0.997446 12.4807 1.57311 11.75 2.28437 11.1802C2.99563 10.6104 3.8236 10.2165 4.70485 10.0287C5.5861 9.84088 6.49722 9.86417 7.36842 10.0968ZM5.89474 9.14286C3.45211 9.14286 1.47368 7.09714 1.47368 4.57143C1.47368 2.04571 3.45211 0 5.89474 0C8.33737 0 10.3158 2.04571 10.3158 4.57143C10.3158 7.09714 8.33737 9.14286 5.89474 9.14286ZM10.3158 12.1905V9.90476H11.7895V12.1905H14V13.7143H11.7895V16H10.3158V13.7143H8.10526V12.1905H10.3158Z"
            fill="#9A9CA0"
          />
        </svg>
        <p>Add SCV</p>
      </span>
    </div>
  </div>
  <!-- Newly added cart -->

  <!-- cart -->
  <div class="carts-container">
    <div class="carts-card" *ngFor="let cartSCV of allocatedSCV; let i = index">
      <h3 class="cart-name">{{ cartSCV.cartName }}</h3>
      <div class="cart-image">
        <img [src]="'https://wayr.link/'+cartSCV.image" />
      </div>
      <span class="vehicle-detail">
        <p>
          {{ cartSCV.vehicleNumber }}<sub>({{ cartSCV.vehicleName }})</sub>
        </p>
      </span>
      <span class="cart-location">
        <svg
          width="13"
          height="16"
          viewBox="0 0 13 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.0962 11.3137L6.5 16L1.90378 11.3137C0.994747 10.3868 0.37569 9.20592 0.124893 7.92033C-0.125905 6.63474 0.00282161 5.30219 0.494793 4.0912C0.986765 2.8802 1.81989 1.84514 2.8888 1.11692C3.95772 0.388689 5.21443 0 6.5 0C7.78557 0 9.04228 0.388689 10.1112 1.11692C11.1801 1.84514 12.0132 2.8802 12.5052 4.0912C12.9972 5.30219 13.1259 6.63474 12.8751 7.92033C12.6243 9.20592 12.0053 10.3868 11.0962 11.3137ZM6.5 9.57288C7.26618 9.57288 8.00098 9.26255 8.54275 8.71016C9.08452 8.15776 9.38889 7.40856 9.38889 6.62736C9.38889 5.84616 9.08452 5.09695 8.54275 4.54456C8.00098 3.99217 7.26618 3.68184 6.5 3.68184C5.73382 3.68184 4.99902 3.99217 4.45725 4.54456C3.91548 5.09695 3.61111 5.84616 3.61111 6.62736C3.61111 7.40856 3.91548 8.15776 4.45725 8.71016C4.99902 9.26255 5.73382 9.57288 6.5 9.57288ZM6.5 8.10012C6.11691 8.10012 5.74951 7.94495 5.47862 7.66876C5.20774 7.39256 5.05556 7.01796 5.05556 6.62736C5.05556 6.23676 5.20774 5.86216 5.47862 5.58596C5.74951 5.30977 6.11691 5.1546 6.5 5.1546C6.88309 5.1546 7.25049 5.30977 7.52138 5.58596C7.79226 5.86216 7.94444 6.23676 7.94444 6.62736C7.94444 7.01796 7.79226 7.39256 7.52138 7.66876C7.25049 7.94495 6.88309 8.10012 6.5 8.10012Z"
            fill="#3C4048"
          />
        </svg>

        <p>{{ cartSCV.cartLocation }}</p>
      </span>
      <span class="scv-name">
        <svg
          width="14"
          height="16"
          viewBox="0 0 14 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M6.72251 9.61192V15.4532H2.59886e-08C-7.9042e-05 14.618 0.18026 13.7923 0.529037 13.031C0.877814 12.2696 1.38704 11.5902 2.02289 11.0377C2.65874 10.4852 3.40665 10.0723 4.21694 9.82647C5.02722 9.58065 5.88133 9.50751 6.72251 9.61192ZM5.97556 8.83043C3.49944 8.83043 1.49389 6.85462 1.49389 4.41521C1.49389 1.97581 3.49944 0 5.97556 0C8.45169 0 10.4572 1.97581 10.4572 4.41521C10.4572 6.85462 8.45169 8.83043 5.97556 8.83043ZM10.3026 13.9182L12.9431 11.3169L14 12.3574L10.3026 16L7.66142 13.398L8.71835 12.3574L10.3026 13.9182Z"
            fill="#3C4048"
          />
        </svg>

        <p>{{ cartSCV.scvName }}</p>
        <svg
          class="edit-scv-icon"
          width="16"
          height="16"
          viewBox="0 0 16 16"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M11.7008 0.9056L5.832 6.7728L5.8384 10.1704L9.2288 10.1648L15.0936 4.2992C15.6907 5.44131 16.0017 6.71124 16 8C16 12.4184 12.4184 16 8 16C3.5816 16 0 12.4184 0 8C0 3.5816 3.5816 0 8 0C9.3352 0 10.5936 0.3272 11.7008 0.9056ZM14.7888 0.0808001L15.9192 1.212L8.5656 8.5656L7.436 8.568L7.4344 7.4344L14.788 0.0799999L14.7888 0.0808001Z"
            fill="#3C4048"
          />
        </svg>
      </span>
    </div>
  </div>
  <!-- cart -->
</div>

<!-- allocate scv & edit scv popup -->

<div class="popup" *ngIf="showallocation">
  <div class="popup-close" (click)="unshowAllocateScv()"></div>
  <div class="popup-container">
    <div class="title">
      <h3>Allocate SCV</h3>
    </div>
    <div class="allocate-scv">
      <div class="cart-detail-view">
        <div class="carts-card">
          <h3 class="cart-name">{{ singleCart.cartName }}</h3>
          <div class="cart-image">
            <img
              [src]="'https://wayr.link/' + singleCart.image"
              style="width: 100%; height: 100%; object-fit: initial"
            />
          </div>
          <span class="vehicle-detail">
            <p>
              {{ singleCart.vehicleNumber
              }}<sub>({{ singleCart.vehicleName }})</sub>
            </p>
          </span>
          <span class="cart-location">
            <svg
              width="13"
              height="16"
              viewBox="0 0 13 16"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
            >
              <path
                d="M11.0962 11.3137L6.5 16L1.90378 11.3137C0.994747 10.3868 0.37569 9.20592 0.124893 7.92033C-0.125905 6.63474 0.00282161 5.30219 0.494793 4.0912C0.986765 2.8802 1.81989 1.84514 2.8888 1.11692C3.95772 0.388689 5.21443 0 6.5 0C7.78557 0 9.04228 0.388689 10.1112 1.11692C11.1801 1.84514 12.0132 2.8802 12.5052 4.0912C12.9972 5.30219 13.1259 6.63474 12.8751 7.92033C12.6243 9.20592 12.0053 10.3868 11.0962 11.3137ZM6.5 9.57288C7.26618 9.57288 8.00098 9.26255 8.54275 8.71016C9.08452 8.15776 9.38889 7.40856 9.38889 6.62736C9.38889 5.84616 9.08452 5.09695 8.54275 4.54456C8.00098 3.99217 7.26618 3.68184 6.5 3.68184C5.73382 3.68184 4.99902 3.99217 4.45725 4.54456C3.91548 5.09695 3.61111 5.84616 3.61111 6.62736C3.61111 7.40856 3.91548 8.15776 4.45725 8.71016C4.99902 9.26255 5.73382 9.57288 6.5 9.57288ZM6.5 8.10012C6.11691 8.10012 5.74951 7.94495 5.47862 7.66876C5.20774 7.39256 5.05556 7.01796 5.05556 6.62736C5.05556 6.23676 5.20774 5.86216 5.47862 5.58596C5.74951 5.30977 6.11691 5.1546 6.5 5.1546C6.88309 5.1546 7.25049 5.30977 7.52138 5.58596C7.79226 5.86216 7.94444 6.23676 7.94444 6.62736C7.94444 7.01796 7.79226 7.39256 7.52138 7.66876C7.25049 7.94495 6.88309 8.10012 6.5 8.10012Z"
                fill="#3C4048"
              />
            </svg>

            <p>{{ singleCart.cartLocation }}</p>
          </span>
        </div>
      </div>
      <div class="select-scv">
        <p>Select SCV</p>
        <select (change)="scvAllocationChange($event, singleCart._id)">
          <option selected disabled>Select SCV</option>
          <option *ngFor="let scv of availableSCV" [value]="scv._id">
            {{ scv.Name }}
          </option>
        </select>
      </div>
    </div>
    <div class="buttons">
      <button class="allocate-btn" (click)="Allocation()">Allocate</button>
    </div>
  </div>
</div>

<!--cart is active popup -->

<div class="popup" *ngIf="false">
  <div class="popup-close"></div>
  <div class="popup-container active-popup">
    <div class="title"><h3>Remove cart</h3></div>
    <p>Do You Want Remove Cart ?</p>
    <div class="buttons">
      <button class="back">Back</button>
      <button class="remove-btn">Remove</button>
    </div>
  </div>
</div>
